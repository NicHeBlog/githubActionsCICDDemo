name: SFDX-CLI Deploy from Repository
on: 
  push:
    branches: [develop]
    paths:
        - 'force-app/**'

jobs:
  secret-scan:
    runs-on: ubuntu-latest
    steps:
      - run: echo "placehoder for sfdx scranner!"

  formating-check:
    runs-on: ubuntu-latest
    #needs: secret-scan
    steps:
      - name: "Verify Code format with Prettier"
      - run: npm run prettier:verify

  linting-check:
    runs-on: ubuntu-latest
    #needs: secret-scan
    steps:
      - name: "Lint Aura & LWC"
      - run: npm run lint

  lwc-jest-test:
    runs-on: ubuntu-latest
    #needs: secret-scan
    steps:
      - name: "Unit test Aura and LWC"
      - run: npm run test:unit:coverage